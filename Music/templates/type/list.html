{% extends 'base.html' %}
{% block bodytitle %}
    <span class="glyphicon glyphicon-list">歌曲类别列表</span>

{% endblock %}
{% block content %}


        <table class="table table-hover" id="list">
            <tr>
                <th>编号</th>
                <th>类别名称</th>
                <th></th>
            </tr>
            {% for type in types %}
            <tr id="info">
                {% for id,info in type.items %}
                    {% for i in info %}
                        <td>{{ i }}</td>
                    {% endfor %}
                <td>
                    <a class="btn btn-primary btn-xs" href="{% url 'type_edit' id %}">编辑</a>
                      <a class="btn btn-danger btn-xs" href="{% url 'type_delete' id %}">删除</a>
                </td>
                    {% endfor %}
            </tr>
            {% endfor %}
        </table>




{#    <script>#}
    {#alert('77');#}
{#        $.ajax({#}
{#            url:'http://192.168.1.200:8003/type/list',#}
{#            success:function (res) {#}
                {#alert('123');#}
{#                var types=res['types'];#}
                {#alert(types);#}
                {#console.log(types);#}
{#                var list=document.getElementById("list");#}
{##}
{#                for(var i in types){#}
{#                    var tr="<tr><td>"+types[i][0]+"</td><td>"+types[i][1]+"</td></tr>";#}
{#                    $('#list').append(tr);#}
{##}
{#                }#}
{##}
{#            }#}
{#        })#}
{#    </script>#}
{% endblock %}
{% block page %}
    <div class="col-lg-offset-2">
                    <nav aria-label="Page navigation">
                  <ul class="pagination">
                      {% if typesPageObj.has_previous %}
                    <li >
                      <a href="{% url 'type_list' %}?page={{ typesPageObj.previous_page_number }}" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>
                      {% else %}
                    <li class="disabled">
                      <a href="#" aria-label="Previous">
                        <span aria-hidden="true">&laquo;</span>
                      </a>
                    </li>
                      {% endif %}

                      {% for page in typesPageObj.paginator.page_range %}
                          {% if page == typesPageObj.number %}
                          <li class="active"><a href="{% url 'type_list' %}?page={{ page }}">{{ page}}</a></li>
                          {% else %}
                          <li><a href="{% url 'type_list' %}?page={{ page }}">{{ page}}</a></li>
                          {% endif %}
                      {% endfor %}

                    {% if typesPageObj.has_next %}
                    <li>
                      <a href="{% url 'type_list' %}?page={{ typesPageObj.next_page_number }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>
                    {% else %}
                    <li class="disabled">
                      <a href="#" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                    </li>
                    {% endif %}
                  </ul>
                </nav>
    </div>
{% endblock %}
